<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Multi-Chain Wallet</title>
  </head>
  <body style="font-family: monospace; padding: 20px;">
    <h1>üåê Multi-Chain Wallet (EVM + Solana)</h1>
    <div id="app"></div>

    <script type="module">
      import { ethers } from "https://cdn.jsdelivr.net/npm/ethers@6.7.1/dist/ethers.min.js";
      import * as solanaWeb3 from "https://cdn.jsdelivr.net/npm/@solana/web3.js@1.78.0/+esm";

      const app = document.getElementById("app");

      let wallet = null;

      async function createEvmWallet() {
        const randomWallet = ethers.Wallet.createRandom();
        wallet = {
          type: "EVM",
          address: randomWallet.address,
          privateKey: randomWallet.privateKey,
        };
        render();
      }

      async function createSolWallet() {
        const keypair = solanaWeb3.Keypair.generate();
        wallet = {
          type: "SOLANA",
          address: keypair.publicKey.toBase58(),
          privateKey: Array.from(keypair.secretKey).join(","),
        };
        render();
      }

      function render() {
        if (!wallet) {
          app.innerHTML = `
            <button onclick="createEvmWallet()">Create EVM Wallet</button>
            <button onclick="createSolWallet()">Create Solana Wallet</button>
          `;
        } else {
          app.innerHTML = `
            <p><b>Type:</b> ${wallet.type}</p>
            <p><b>Address:</b> ${wallet.address}</p>
            <p><b>Private Key:</b> ${wallet.privateKey}</p>
            <button onclick="wallet=null; render()">Back</button>
          `;
        }
      }

      window.createEvmWallet = createEvmWallet;
      window.createSolWallet = createSolWallet;

      render();
    </script>
  </body>
</html>
